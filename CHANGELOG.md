# Changelog

## v0.1.2 (2026-02-13)

### Features
- Add jsonl codec for newline delimited json (a7a404c)
- Restructure into bun workspace with scoped packages (ef571ed)

### Fixes
- Resolve workspace references in publish workflow and bump to v0.1.1 (a60b9c6)
- Use bun x instead of bunx and exclude flaky CLI tests from pre-push (8dd2994)

### Other
- Update badges and add id field to prose examples (f54fae0)
- Add badges and example code to readme (e12ea79)
- Switch to npm publish with provenance for release workflow (af76367)
- Simplify glob pattern and fix tty mock setup (e0ece41)
- Add direnv configuration and gitignore entry (1cd634c)
- Restructure monorepo and update package versions (d8bac45)
- Add git hooks, author metadata, and rename package (cb2449a)
- Add prose format documentation and examples (23a911c)
- Task 9.4: write integration test for prose codec alongside other codecs (18f7ae0)
- Task 9.3: write integration test for proseCodec with makeSerializerLayer (ca2fd0d)
- Task 9.2: export proseCodec from core index.ts (0aad6d3)
- Task 9.1: verify proseCodec export from prose.ts (ec48faf)
- Task 8.4: write round-trip tests for prose codec (a501d74)
- Task 8.3: verify decode implementation for prose codec (f3e0bc3)
- Task 8.2: verify encode implementation for prose codec (07dfa20)
- Task 8.1: implement proseCodec factory function (6456fb6)
- Task 7.4: verify tests for prose directive scanning (9379b7f)
- Task 7.3: implement parseBody for prose codec (d147a53)
- Task 7.2: implement parseDirectiveBlock for prose codec (9703ccb)
- Task 7.1: implement scanDirective for prose codec (884d7b7)
- Task 6.3: add tests for prose overflow decoding (5bec7b6)
- Task 6.2: verify multi-line continuation for prose codec (5a9cadf)
- Task 6.1: implement overflow decoding for prose codec (e99bed9)
- Task 5.3: add tests for prose overflow encoding (21115c5)
- Task 5.2: implement multi-line value encoding for prose codec (dfabbd1)
- Task 5.1: implement overflow encoding for prose codec (28ad374)
- Task 4.4: add tests for prose headline decoding (b658770)
- Task 4.3: verify greedy last field capture in decodeHeadline (9ffc4b0)
- Task 4.2: fix quoted value detection in decodeHeadline scanner (62844a1)
- Task 4.1: implement decodeHeadline for prose codec (cacf15b)
- Task 3.3: add tests for prose headline encoding (fd40dfb)
- Task 3.2: implement quoting logic for prose headline encoding (32bedb3)
- Task 3.1: implement encodeHeadline for prose codec (92c4b8d)
- Task 2.5: verify round-trip tests for prose value serialization (209874f)
- Task 2.4: complete array element parsing for prose codec (5fc71d7)
- Task 2.3: implement deserializeValue for prose codec (a5202d0)
- Task 2.2: mark array element quoting as complete (e8e8f1e)
- Task 2.1: implement serializeValue for prose codec (30276f6)
- Task 1.5: add tests for template compilation (6e1285a)
- Task 1.4: implement overflow template compilation (509cfda)
- Task 1.3: add template validation for adjacent fields (4b0b755)
- Task 1.2: implement compileTemplate function for prose codec (54995c0)
- Task 1.1: add prose codec types (ProseSegment, CompiledTemplate, ProseCodecOptions) (eee268b)
- Update import paths to scoped packages (ab152d7)
- Remove type casting by using inferred types (ac270e0)
- Add nested data support and expand examples (9920666)
- Task 10.1-10.3: cleanup - verify tests, types, and lint pass (8d1f770)
- Task 9.9: verify reactive queries emit on nested field updates tests pass (c4dacb1)
- Task 9.8: verify computed fields on nested source data tests pass (f8f0f8e)
- Task 9.7: verify persistence round-trip tests pass (206574e)
- Task 9.6: verify nested updates + re-query tests pass (d63ceb0)
- Task 9.5: verify nested filter + aggregation tests pass (05b1a51)
- Task 9.4: verify nested filter + cursor pagination tests pass (c0dfad1)
- Task 9.3: verify nested filter + offset pagination tests pass (3d5f9eb)
- Task 9.2: add end-to-end tests for nested filter + sort + select (fc0c077)
- Task 9.1: create nested-schema.test.ts integration test file (8dc0f78)
- Task 8.4: add type-level tests for nested schema support (eb5255d)
- Task 8.3: verify ExtractNestedPaths covers dot-paths for indexes, aggregates, and search (3d12d83)
- Task 8.2: add nested object support to UpdateWithOperators type (970526d)
- Task 8.1: add nested object support to WhereClause type (aba6558)
- Task 7.5: add tests for $search query against nested indexed fields (4435318)
- Task 7.4: add tests for search index maintenance with nested indexed fields (a6980f2)
- Task 7.3: add tests for searchIndex with nested field paths (44d83f0)
- Task 7.2: use getNestedValue in removeEntityFromIndexMut and updateInSearchIndex for nested search index fields (6328e57)
- Task 7.1: use getNestedValue in addEntityToIndexMut for nested search index fields (2f84503)
- Task 6.5: add test for avg on nested field (3daa92a)
- Task 6.4: add tests for grouped aggregation on nested fields (cd8b726)
- Task 6.3: add tests for nested field scalar aggregation (sum, min, max) (52f3747)
- Task 6.2: use getNestedValue in computeGroupedAggregates for groupBy key extraction (6f7e79c)
- Task 6.1: use getNestedValue in aggregate.ts updateAccumulators (58f702a)
- Task 5.5: add tests for dot-path index maintenance on create/delete (c507328)
- Task 5.4: add tests for dot-path index maintenance on update (98884a6)
- Task 5.3: add tests for dot-path compound index query acceleration (8d8b7f2)
- Task 5.2: add tests for dot-path single index query acceleration (bdbb5ec)
- Task 5.1: use getNestedValue in computeIndexKey for nested field indexing (85d96c8)
- Task 4.11: add regression tests for flat schema update behavior (0c71de5)
- Task 4.10: add test for deep merge on non-existent nested key (e5eea42)
- Task 4.9: add nested $toggle boolean operator test (9673a75)
- Task 4.8: add nested $append array operator test (e7e3389)
- Task 4.7: add nested $append string operator test (0c29b1e)
- Task 4.6: add mixed nested + flat update test (052a143)
- Task 4.5: add nested $set operator replacement test (d43582d)
- Task 4.4: add nested $increment operator test (3e719fe)
- Task 4.3: add deep merge preservation test for nested updates (34727e8)
- Task 4.2: refactor applyUpdates to use deepMergeUpdates (b253c22)
- Task 4.1: add deepMergeUpdates helper for nested update support (fcf701e)
- Task 3.12: add nested $search field resolution tests (9a2b500)
- Task 3.11: add mixed flat + nested filter tests (b3bfe34)
- Task 3.10: add 3-level nested filter tests (5a4fd93)
- Task 3.9: add nested string operator filter tests (bea2f40)
- Task 3.8: add nested $not filter test (a7b3b1e)
- Task 3.7: add nested $or filter test (29e8573)
- Task 3.6: add nested exact match filter test (dcba630)
- Task 3.5: add dot-notation nested filter tests (30a8166)
- Task 3.4: add shape-mirroring nested filter tests (a6f5eae)
- Task 3.3: add nested field support to $search handler (56b859b)
- Task 3.2: add dot-notation fallback for nested filtering in matchesWhere (0308204)
- Task 3.1: add shape-mirroring branch for nested filtering in matchesWhere (8a50418)
- Task 2.4: verify no regressions from getNestedValue deduplication (cc3ebd1)
- Task 2.3: dedupe getNestedValue in cursor-stream.ts (38020cc)
- Task 2.2: dedupe getNestedValue in sort-stream.ts (e5c07ab)
- Task 2.1: dedupe getNestedValue in sort.ts (ee2c94d)
- Task 1.5: add unit tests for setNestedValue utility (d81fdb5)
- Task 1.4: add unit tests for getNestedValue utility (366ba58)
- Task 1.3: mark isDotPath as complete (already implemented) (b7bf6f8)
- Task 1.2: mark setNestedValue as complete (already implemented) (3f54cad)
- Task 1.1: add getNestedValue and setNestedValue utils for nested paths (0d8f41b)
- Task 12.3: verify biome check passes on modified files (ddc86fe)
- Task 12.2: verify all packages compile cleanly with tsc --build (293a7f2)
- Task 12.1: verify full test suite passes with no regressions (e8ff9d3)
- Task 11.2: verify prepublishOnly catches type errors (81323b0)
- Task 11.1: verify prepublishOnly runs build and test (69a7fe0)
- Task 10.3: verify deep imports are blocked (dd24b86)
- Task 10.2: verify TypeScript resolves full type information from tarball (9617b15)
- Task 10.1: verify import resolves from packed tarball (6d9d765)
- Task 9.3: verify tarball sizes reasonable, no src/tests/node_modules (e0eda03)
- Task 9.2: verify workspace:* references resolved in tarballs (dc00edd)
- Task 9.1: verify npm pack --dry-run includes only dist/, LICENSE, README.md (1c576c8)
- Task 8.6: verify cross-package references resolve correctly (d3dee75)
- Task 8.5: verify .js.map and .d.ts.map files present alongside source files (267bc72)
- Task 8.4: verify packages/core/dist/index.d.ts exports public API types (29b7c17)
- Task 8.3: verify packages/core/dist/index.js is valid ESM (230c641)
- Task 8.2: verify bun run build creates dist/ in each package (0e687fa)
- Task 8.1: verify bun run clean removes all dist/ directories (b57db51)
- Task 7.3: add packages/*/LICENSE to .gitignore (ca6397b)
- Task 7.2: add copy-license script to copy LICENSE into package directories (0d4ffc3)
- Task 7.1: create LICENSE at repository root with MIT license text (3367fd8)
- Task 6.3: add @effect/rpc to peerDependencies in @proseql/rpc (4046ad1)
- Task 6.2: bump @proseql/rpc version from 0.0.0 to 0.1.0 (2814eff)
- Task 6.1: verify @proseql/rpc has all core package.json fields (a8b6592)
- Task 5.3: verify @proseql/rest has effect as peerDependency (ee3062a)
- Task 5.2: bump @proseql/rest version from 0.0.0 to 0.1.0 (d274c7f)
- Task 5.1: add package.json fields to @proseql/rest (d6d1531)
- Task 4.3: add effect as peerDependency to @proseql/node (5c03102)
- Task 4.2: verify @proseql/core uses workspace:* dependency (5750895)
- Task 4.1: add package.json fields to @proseql/node (b8103e6)
- Task 3.12: add prepublishOnly script to @proseql/core package.json (4bd5a14)
- Task 3.11: add build and clean scripts to @proseql/core package.json (40cfa22)
- Task 3.10: add sideEffects field to @proseql/core package.json (7cb91b0)
- Task 3.9: add engines field to @proseql/core package.json (ad86d77)
- Task 3.8: add keywords field to @proseql/core package.json (547f9de)
- Task 3.7: add repository field to @proseql/core package.json (768650b)
- Task 3.6: add description field to @proseql/core package.json (0645be0)
- Task 3.5: add license field to @proseql/core package.json (80e0310)
- Task 3.4: add files field to @proseql/core package.json (a8a2cff)
- Task 3.3: add exports field to @proseql/core package.json (e9a77c6)
- Task 3.2: add types field to @proseql/core package.json (a26c1c3)
- Task 3.1: change main to dist/index.js in @proseql/core (e728b2a)
- Task 2.4: verify build produces dist/ in all packages (c54b48a)
- Task 2.3: add build:clean script to root package.json (cac82fb)
- Task 2.2: add clean script to root package.json (9450ad5)
- Task 2.1: add build script to root package.json (0209016)
- Task 1.4: add dist/ to .gitignore (e9fcd48)
- Task 1.3: verify root tsconfig.json has project references for all packages (e404b89)
- Task 1.2: verify tsconfig.json configuration for all packages (7c9b923)
- Task 1.1: add sourceMap option to tsconfig.base.json (94af0f6)
- Task 10.3: verify benchmark files conform to project lint style (b4d47a6)
- Task 10.2: verify TypeScript type check passes with no errors (a5451e5)
- Task 10.1: verify full test suite passes with no regressions (a10807d)
- Task 9.5: verify full benchmark suite completes end-to-end (f112427)
- Task 9.4: add tests verifying table output renders without errors (332ec82)
- Task 9.3: add tests verifying JSON output validity and expected keys (50fb8e4)
- Task 9.2: add tests verifying benchmark runner discovery and execution (b2cc015)
- Task 9.1: mark generator verification as complete (already implemented) (2ad8135)
- Task 8.5: mark suite filtering as complete (already implemented) (f8c1b74)
- Task 8.4: mark --json flag as complete (already implemented) (c8c2a09)
- Task 8.3: mark table output as complete (already implemented) (9a2b271)
- Task 8.2: implement sequential suite execution with warm-up (5ec2337)
- Task 8.1: create bench/runner.ts with benchmark file discovery (0c6bff6)
- Task 7.4: implement transaction overhead delta reporting (22d1f02)
- Task 7.3: implement transactional multi-operation benchmark (66cfbd7)
- Task 7.2: implement direct multi-operation benchmark (6c7a7f6)
- Task 7.1: create bench/transactions.bench.ts with tinybench suite (32fba04)
- Task 6.4: implement debounced write coalescing benchmark (968e5f3)
- Task 6.3: implement deserialization benchmarks for all 7 formats (96be85b)
- Task 6.2: implement serialization benchmarks for all 7 formats (3f78775)
- Task 6.1: create bench/serialization.bench.ts with tinybench suite (2fcb93f)
- Task 5.7: implement combined pipeline benchmarks in query-pipeline.bench.ts (201d97e)
- Task 5.6: implement paginate benchmarks in query-pipeline.bench.ts (5b2aa81)
- Task 5.5: implement select benchmarks in query-pipeline.bench.ts (afca758)
- Task 5.4: implement population benchmarks in query-pipeline.bench.ts (73616ef)
- Task 5.3: implement sort benchmarks in query-pipeline.bench.ts (5210dc4)
- Task 5.2: implement filter benchmarks in query-pipeline.bench.ts (dcb93f2)
- Task 5.1: create bench/query-pipeline.bench.ts with tinybench suite for query pipeline benchmarks (e3e916e)
- Task 4.6: implement upsert benchmarks in crud.bench.ts (ec9b5c9)
- Task 4.5: implement delete and deleteMany benchmarks in crud.bench.ts (9bfae34)
- Task 4.4: implement update and updateMany benchmarks in crud.bench.ts (978dbc4)
- Task 4.3: implement createMany batch benchmark in crud.bench.ts (bba13f8)
- Task 4.2: implement create single-entity benchmark in crud.bench.ts (095f7b4)
- Task 4.1: create bench/crud.bench.ts with tinybench suite for CRUD operations (f636fb0)
- Tasks 3.2-3.4: mark scaling benchmarks as complete (84d5ed5)
- Task 3.1: create bench/scaling.bench.ts with tinybench suite for collection sizes (a56ebb0)
- Task 2.5: add determinism tests for benchmark data generators (28ccca0)
- Task 2.4: implement generateAtScale() for multi-size dataset generation (cba8c9c)
- Task 2.3: implement generateProducts() with deterministic data generation (35d451b)
- Task 2.2: implement generateUsers() with deterministic data generation (4bbc64f)
- Task 2.1: create bench/generators.ts with seeded PRNG (3d2520a)
- Task 1.4: create bench/utils.ts with shared benchmark helpers (4292c6b)
- Task 1.3: create bench/ directory at repository root (a3a79f4)
- Task 1.2: add bench script to package.json for benchmark runner (ca36d8e)
- Task 1.1: add tinybench as dev dependency for benchmark suite (479539a)
- Task 9.3: fix lint errors in property test files (f165468)
- Task 9.2: verify TypeScript type check passes with no errors (f409f01)
- Task 9.1: verify full test suite passes with no regressions (bd27386)
- Task 8.3: implement property test for successful transaction commit (5bf5cfb)
- Task 8.2: implement property test for transaction rollback atomicity (9d202ea)
- Task 8.1: create transaction-atomicity.test.ts for property-based transaction testing (9361f0b)
- Task 7.4: implement property test for unique constraint enforcement (db6d190)
- Task 7.3: implement property test for delete-then-findById NotFoundError invariant (45f21d8)
- Task 7.2: implement property test for create-then-findById round-trip (dc8c84b)
- Task 7.1: create crud-invariants.test.ts for property-based CRUD testing (95e3066)
- Task 6.3: implement property test for index bucket integrity after operations (3acf42c)
- Task 6.2: implement property test for index-accelerated vs full-scan query equality (32f453a)
- Task 6.1: create index-consistency.test.ts for property-based index testing (e0c971b)
- Task 5.3: implement property test for sort stability with duplicate sort keys (975f186)
- Task 5.2: implement property test for sort ordering adjacent pair invariant (92973eb)
- Task 5.1: create sort-ordering.test.ts for property-based sort testing (f891144)
- Task 4.4: implement reference matchesWhere function as test oracle (a6c2c55)
- Task 4.3: implement property test for empty where clause returning all entities (e40b8e1)
- Task 4.2: implement property test for where clause filter correctness (f92de60)
- Task 4.1: create filter-consistency.test.ts for property-based filter testing (28227eb)
- Task 3.3: implement schema rejection property tests for invalid data (fb2594d)
- Task 3.2: implement encode→decode round-trip property tests (88600a3)
- Task 3.1: create schema-roundtrip.test.ts for property-based schema testing (a534576)
- Task 2.6: add unit tests for property-based testing generators (dd14fd4)
- Task 2.5: implement operationSequenceArbitrary(schema) for property-based testing (5c63046)
- Task 2.4: implement sortConfigArbitrary(schema) for property-based testing (6dcea1b)
- Task 2.3: implement whereClauseArbitrary(schema) for property-based testing (a98dee2)
- Task 2.2: implement entityArbitrary(schema) for property-based testing (9381496)
- Task 2.1: add property-based testing generators module with shared constants (125f8fc)
- Task 1.2: verify fast-check imports resolve correctly in trivial test (3595afc)
- Task 1.1: add fast-check as dev dependency for property-based testing (3ab6662)
- Task 11.4: verify proseql --help prints usage information for all commands (791a721)
- Task 11.3: run lint and fix all issues (b2d29a8)
- Task 11.2: verify type check passes with no errors (41c958a)
- Task 11.1: verify full test suite passes with no regressions (8e42dc0)
- Task 10.10: create inspect command tests (f8882cf)
- Task 10.9: create convert command tests (8215e14)
- Task 10.8: create migrate command tests (52bcba4)
- Task 10.7: create CRUD command tests (75e6a08)
- Task 10.6: create query command tests (d7adc1e)
- Task 10.5: create init command tests (f64f4df)
- Task 10.4: create output formatters tests (eabab43)
- Task 10.3: create set-parser tests (a2a34c4)
- Task 10.2: create filter parser tests (37ad684)
- Task 10.1: create config discovery tests (4835d55)
- Tasks 9.1-9.5: mark output formatters as complete (already implemented) (097f567)
- Task 8.4: verify convert command prints summary (already implemented) (c80fc15)
- Task 8.3: update config file to reference new file path in convert command (f02e258)
- Task 8.2: write new data file and remove old file in convert command (9383aeb)
- Task 8.1: create convert command for CLI (020efd2)
- Task 7.4: implement migrate run command (bec4943)
- Task 7.3: implement migrate --dry-run command (0f06493)
- Task 7.2: implement migrate status command (44247f0)
- Task 7.1: create migrate command for CLI (67df3d2)
- Task 6.5: create delete command for CLI (f5054e0)
- Task 6.4: create confirmation prompt utility for CLI (e707b43)
- Task 6.3: create update command for CLI (3079feb)
- Task 6.2: create set-parser for CLI --set option (6fff151)
- Task 6.1: create command for CLI (7ecbf81)
- Task 5.3: create stats command for CLI (271be81)
- Task 5.2: create describe command for CLI (030ac9a)
- Task 5.1: create collections command for CLI (4a8a0a6)
- Task 4.4: pipe query results to output formatter (b06457e)
- Task 4.3: mark select/sort/limit parsing as complete (c58fe1b)
- Task 4.2: create query command for CLI (64c21e5)
- Task 4.1: create filter-parser for CLI where clause parsing (dc4fa92)
- Task 3.5: print summary of created files in init command (c5b0ca1)
- Task 3.4: detect .git directory and update .gitignore in init command (de7ab2f)
- Task 3.3: create data/ directory with example data file in init command (71efb75)
- Task 3.2: scaffold proseql.config.ts with example collection definition (c088194)
- Task 3.1: create init command with existing config detection (fac03a2)
- Task 2.3: wire config discovery and loading into CLI main.ts (e896af3)
- Task 2.2: create config loader with dynamic import for TS/JS and JSON parsing (e9620d7)
- Task 2.1: create config discovery module with upward directory search (63c70b2)
- Task 1.5: verify CLI --help executes without error (f800df9)
- Task 1.4: create CLI main.ts entry point with flag parsing and command dispatch (1143174)
- Task 1.3: add @proseql/cli to root workspace configuration (944d100)
- Task 1.2: create packages/cli/tsconfig.json extending root tsconfig (c30c339)
- Task 1.1: create packages/cli/package.json with @proseql/cli bin config (85ccee8)
- Task 12.4: fix TypeScript errors across all packages (07b1d91)
- Task 12.3: verify full test suite passes (2612 tests) (e14950a)
- Task 12.2: export all public API from rest/src/index.ts (6d27828)
- Task 12.1: export all public API from rpc/src/index.ts (9b30028)
- Task 11.21: add tests for relationship route returns 404 for missing parent (0865d31)
- Task 11.20: add tests for inverse relationship route returns related entities (fdad9e7)
- Task 11.19: add tests for ref relationship route returns related entity (bbc736c)
- Task 11.18: add tests for unknown error maps to 500 (061c3a1)
- Task 11.17: add tests for error mapping HTTP status codes (3156048)
- Task 11.16: add tests for GET aggregate returns correct result (c3152c9)
- Task 11.15: add tests for POST batch creates multiple entities (2bb04df)
- Task 11.14: add tests for DELETE removes entity and returns 200 (0ba1ea1)
- Task 11.13: add tests for PUT updates entity and returns 200 (f62d371)
- Task 11.12: add tests for POST with invalid data returns 400 (9ccc977)
- Task 11.11: add tests for POST creates entity and returns 201 (2b93647)
- Task 11.10: add tests for GET by id 404 response (bc82f19)
- Task 11.9: add tests for GET by id handler (7c29c5b)
- Task 11.8: add tests for GET collection with query params filtering (10fa978)
- Task 11.7: add handlers.test.ts with GET collection tests (2e68cd2)
- Task 11.6: add comprehensive tests for type coercion parsing (71bcb7a)
- Task 11.5: add comprehensive tests for field selection parsing (39c4d2b)
- Task 11.4: add comprehensive tests for pagination parsing (72d2102)
- Task 11.3: add comprehensive tests for sort parsing (df536e1)
- Task 11.2: add comprehensive tests for operator syntax parsing (964f867)
- Task 11.1: create query-params.test.ts with simple equality parsing tests (e7e76ee)
- Task 10.13: verify rpc-streaming.test.ts exists and passes (9131569)
- Task 10.12: add comprehensive tests for typed error flow through RPC (9d817e1)
- Task 10.11: verify batch handler tests exist and pass in rpc-handlers.test.ts (6e67d82)
- Task 10.10: add comprehensive test for aggregate handler scalar results (00291d9)
- Task 10.9: verify delete handler test exists and passes in rpc-handlers.test.ts (543e292)
- Task 10.8: verify update handler test exists and passes in rpc-handlers.test.ts (de8b529)
- Task 10.7: add tests for typed ValidationError in create handler (e3e8919)
- Task 10.6: verify create handler test exists and passes in rpc-handlers.test.ts (7c484ca)
- Task 10.5: verify query handler test for filtered results exists and passes (4549141)
- Task 10.4: add test for typed NotFoundError in findById handler (41fd5b2)
- Task 10.3: verify findById handler test exists and passes in rpc-handlers.test.ts (62620a5)
- Task 10.2: add multi-collection config tests for namespaced RPC procedures (56d15f8)
- Task 10.1: create rpc-group.test.ts with single-collection config tests (747b1e3)
- Tasks 9.2-9.4: implement REST relationship routes with proper error handling (0ab2e3f)
- Task 9.1: create relationship-routes.ts with extractRelationships function (bd60eeb)
- Tasks 8.2-8.4: verify error mapping is complete (e5c9d16)
- Task 8.1: create error-mapping.ts with mapErrorToResponse function (47a9711)
- Task 7.7: implement GET /:collection/aggregate handler with query param parsing (8983c58)
- Task 7.6: verify POST /:collection/batch handler is complete (ce89567)
- Task 7.5: verify DELETE /:collection/:id handler is complete (7491768)
- Task 7.4: verify PUT /:collection/:id handler is complete (3664fae)
- Task 7.3: verify POST /:collection handler is complete (c5e36f6)
- Task 7.2: verify GET /:collection/:id handler is complete (837ac4a)
- Task 7.1: implement GET /:collection handler with query param parsing (41d4246)
- Tasks 6.2-6.7: verify query parameter parsing is complete (edc8cf7)
- Task 6.1: create query parameter parser for REST API (eae8c6f)
- Task 5.3: verify per-collection REST routes are generated (dd83e85)
- Task 5.2: verify framework-agnostic handler types are complete (d517642)
- Task 5.1: create REST handler generation framework (ba26aff)
- Task 4.3: verify streaming works over in-process transport (43334c0)
- Task 4.2: add configurable streaming behavior with streamingOptions (9910e9c)
- Task 4.1: add stream variant for query procedure using Rpc.stream (97cf94b)
- Task 3.9: add makeRpcHandlersFromDatabase for persistent database support (88013fc)
- Task 3.8: wire batch handlers to SmartCollection methods (f8f6d2b)
- Task 3.7: verify aggregate handler wiring is complete (d00ffe2)
- Task 3.6: verify delete handler wiring is complete (adf0540)
- Task 3.5: verify update handler wiring is complete (7b93130)
- Task 3.4: verify create handler wiring is complete (f69ecee)
- Task 3.3: wire query handler to collect stream to array (7bfb630)
- Task 3.2: verify findById handler wiring is complete (636b94a)
- Task 3.1: create rpc-handlers.ts with makeRpcHandlers layer factory (f021e68)
- Task 2.9: verify multi-collection RPC group namespacing (2f4eb98)
- Task 2.8: generate batch procedures (createMany, updateMany, deleteMany, upsert, upsertMany) (4c09c2e)
- Task 2.7: generate aggregate procedure with typed result union (6809a9d)
- Task 2.6: generate delete procedure with typed error union (b67ea03)
- Task 2.5: generate update procedure with typed error union (dd43051)
- Task 2.4: generate create procedure with typed error union (bf0f2da)
- Task 2.3: generate query procedure with QueryConfig payload and typed errors (6cdf70f)
- Task 2.2: generate findById procedure with entity type and NotFoundError (a9954d4)
- Task 2.1: add makeRpcGroup for deriving RPC procedures from DatabaseConfig (94f958c)
- Task 1.3: export all error and payload schemas from rpc/src/index.ts (f936c28)
- Task 1.2: add RPC payload schemas for all database operations (32d61f1)
- Task 1.1: add serializable Effect Schemas for proseql tagged errors (533a883)
- Update README with all implemented features (c7815df)
- Task 19.3: fix lint errors (biome check passes with 0 errors) (87c2023)
- Task 19.2: verify type check passes (bunx tsc --noEmit) (e7adaa7)
- Task 19.1: verify full test suite passes (2233 tests, 0 failures) (e5ac64b)
- Task 18.3: test watchById emits entity state, re-emits on update, emits null on deletion (ee314e5)
- Task 18.2: test Scope closure cleans up all active subscriptions (44532d1)
- Task 18.1: test stream interruption stops emissions and cleans up the PubSub subscription (2574845)
- Task 17.2: test configurable debounce interval is respected (39bd182)
- Task 17.1: test rapid mutations produce at most one emission after debounce (b35004b)
- Task 16.2: test file watcher reload deduplication (no emit when unchanged) (b57a7e1)
- Task 16.1: test file watcher reload triggers watch emission (15591b5)
- Task 15.3: test transaction rollback produces no emissions (state unchanged) (8d47fa7)
- Task 15.2: test transaction commit produces exactly one emission with final state (738d5f1)
- Task 15.1: test no emissions during transaction (intermediate states suppressed) (334260e)
- Task 14.2: test deduplication of unchanged result sets (1e8115e)
- Task 14.1: test mutation to different collection isolation (84940ca)
- Task 13.5: test entity leaving result set via update (4ae8a3d)
- Task 13.4: test entity entering result set via update (2e15107)
- Task 13.3: test delete triggers watch with entity removal (a84a61f)
- Task 13.2: test update triggers watch with updated entity (656a1fd)
- Task 13.1: test create triggers watch with matching entity (b9c57ae)
- Tasks 12.2-12.4: mark basic watch tests as complete (b84ffd9)
- Task 12.1: create reactive-queries.test.ts with test helpers (09edf69)
- Task 11.6: thread PubSub through relationship CRUD operations (8352b96)
- Task 11.5: add watch and watchById methods to EffectCollection interface (ab569bd)
- Task 11.4: pass PubSub to transaction factory (e5df34e)
- Task 11.3: pass PubSub to file watcher creation (6875e9c)
- Task 11.2: verify PubSub is passed to all CRUD factory calls (b1e50c1)
- Task 11.1: create shared PubSub<ChangeEvent> per database (5ed18be)
- Task 10.1 & 10.2: add explicit scope cleanup for watch() subscriptions (aa0e5e4)
- Task 9.2: add tests verifying watchById emits null on entity deletion (fb354c2)
- Task 9.1: add watchById() as thin wrapper over watch() (7fa9b15)
- Task 8.2: add test verifying debounce coalesces same-collection events (e5b7045)
- Task 8.1: add debouncing to watch() for change event coalescing (eb918cf)
- Task 7.4: document rollback behavior - no ChangeEvent publishing on rollback (8064ada)
- Task 7.3: publish ChangeEvent per mutated collection on transaction commit (4647a8c)
- Task 7.2: add changePubSub parameter to buildCollection for reactive event suppression in transactions (d070410)
- Task 7.1: add changePubSub parameter to createTransaction for reactive event batching (7a25571)
- Task 6.2: publish reload event to PubSub after file watcher reloads data (add2562)
- Task 6.1: add changePubSub parameter to createFileWatcher for reactive event publishing (4753c89)
- Task 5.7: add changePubSub parameter to upsert() and upsertMany() for reactive event publishing (fc8d1de)
- Task 5.6: add changePubSub parameter to deleteMany() for reactive event publishing (80edeaf)
- Task 5.5: add changePubSub parameter to delete() for reactive event publishing (2f1d42c)
- Task 5.4: add changePubSub parameter to updateMany() for reactive event publishing (75c21ea)
- Task 5.3: add changePubSub parameter to update() for reactive event publishing (c9f6e2f)
- Task 5.2: add changePubSub parameter to createMany() for reactive event publishing (9bd5394)
- Task 5.1: add changePubSub parameter to create() for reactive event publishing (8256a25)
- Task 4.2: add evaluateQuery tests verifying ReadonlyArray return type (24df39e)
- Task 4.1: extract evaluateQuery into reusable module (a2997c0)
- Task 3.4: add deduplication to watch() stream (66d5f0b)
- Task 3.3: verify watch() applies full query pipeline on re-evaluation (5c53bb6)
- Task 3.2: add initial emission to watch() stream (d74b428)
- Task 3.1: create watch.ts with core watch() implementation (9341470)
- Task 2.2: create change-event.ts with factory functions (f375923)
- Task 2.1: create change-pubsub.ts with createChangePubSub() (6bf007f)
- Task 1.5: export reactive query types from core/index.ts (b879eba)
- Task 1.4: add ReactiveConfig and DatabaseReactiveOptions types (c1e2f90)
- Task 1.3: add WatchMethod and WatchByIdMethod type signatures (1e82242)
- Task 1.2: define WatchConfig<T> type for reactive watch queries (5f1c1c2)
- Task 1.1: create reactive-types.ts with ChangeEvent type (3cac286)
- Task 16.4: verify nix flake check passes with browser package (b9c93b7)
- Task 16.3: fix biome linting issues across browser package (fa8250b)
- Task 16.2: fix TypeScript type errors across core package (c3034bf)
- Task 16.1: verify full test suite passes (2120 tests, 0 failures) (eb8e469)
- Task 15.1-15.4: add integration tests for browser storage adapters (2d5d88e)
- Task 14.5: mark multiple watchers coexistence test complete (already implemented) (5f94b1a)
- Task 14.4: mark unsubscribe event listener test complete (already implemented) (2aedc1c)
- Task 14.3: mark unrelated key filtering test complete (already implemented) (181c916)
- Task 14.2: mark localStorage watch onChange test complete (already implemented) (47b3cd4)
- Task 14.1: create cross-tab-sync test file with tests for localStorage watch (0927e2c)
- Task 13.2-13.7: mark IndexedDB adapter tests complete (already implemented) (7c85140)
- Task 13.1: add IndexedDB adapter tests with mock IDBFactory implementation (7b56e26)
- Task 12.1-12.4: add sessionStorage adapter tests with mock Storage implementation (e490d99)
- Task 11.1-11.7: add localStorage adapter tests with mock Storage implementation (94a8990)
- Task 10.6 & 10.7: mark path-to-key edge case tests complete (already implemented) (71729fd)
- Task 10.5: mark no-leading-dot-slash test complete (already implemented) (0ab022c)
- Task 10.4: mark backslash normalization test complete (already implemented) (cc66168)
- Task 10.3: mark custom prefix test complete (already implemented) (eb8a60c)
- Task 10.2: mark default prefix test complete (already implemented) (d279af3)
- Task 10.1: create path-to-key test file for browser package (f34f77b)
- Task 9.3: add allowedFormats config option to browser storage adapters (b4402ae)
- Task 9.2: mark TOML/TOON runtime check complete (not needed - pure JS) (e2eee97)
- Task 9.1: document browser-safe codecs in @proseql/browser README (e387e92)
- Task 8.1-8.3: mark quota error handling complete (already implemented) (ae96fc9)
- Task 7.3: export all browser storage layers and config types from index.ts (6eba1b5)
- Task 7.2: export BrowserStorageLayer as alias for LocalStorageLayer (5dd2ae4)
- Task 7.1: create browser-adapter-layer.ts re-exporting all storage layers (c98c26c)
- Task 6.4-6.10: mark IndexedDB operations complete (already implemented in 6.1) (d73f5de)
- Task 6.3: mark read implementation complete (already implemented in 6.1) (4a3b344)
- Task 6.2: mark openDatabase implementation complete (already implemented in 6.1) (4eaa084)
- Task 6.1: create IndexedDB adapter implementing StorageAdapterShape (4c1c005)
- Task 5.1-5.4: create sessionStorage adapter with no-op watch (7a67fdc)
- Task 4.2-4.4: mark localStorage adapter operations complete (already implemented in 4.1) (3577395)
- Task 4.1: create localStorage adapter calling makeWebStorageAdapter (5dbaba5)
- Task 3.3-3.7: mark web storage adapter operations complete (already implemented in 3.1) (a790d71)
- Task 3.2: mark read implementation complete (already implemented in 3.1) (2543872)
- Task 3.1: create makeWebStorageAdapter factory for browser storage (2cf3c22)
- Task 2.3: handle pathToKey edge cases (66d41dd)
- Task 2.2: export pathToKey and DEFAULT_STORAGE_KEY_PREFIX from browser package (d185b7e)
- Task 2.1: create pathToKey function for browser storage key mapping (09afa96)
- Task 1.5: verify @proseql/browser workspace package resolves and compiles (0fce3ec)
- Task 1.4: add @proseql/browser to root workspace dependencies (cc9f29b)
- Task 1.3: create browser package src/index.ts with core re-exports (0bb088e)
- Task 1.2: create browser package tsconfig.json (898cb0d)
- Task 1.1: create browser package directory with package.json (970c4f4)
- Task 16.3: verify no lint errors (bf851f5)
- Task 16.2: verify no TypeScript type errors (3ffc788)
- Task 16.1: verify full test suite passes with no regressions (fe5bc6c)
- Task 15.4: add regression test for database without plugins (b7bb46f)
- Task 15.3: add integration test for plugin shutdown during scope finalization (fdf94c4)
- Task 15.2: add integration test for plugin with persistent database (28002f2)
- Task 15.1: add integration test for full plugin with all features (e2afbe8)
- Task 14.5: add test for global onChange hook firing across collections (698ca15)
- Task 14.4: add test for multiple plugins' global hooks ordering (faa16ca)
- Task 14.3: add test for global hooks ordering before collection hooks (1d42a72)
- Task 14.2: add test for global afterCreate hook firing on all collections (b71f61c)
- Task 14.1: add test for global beforeCreate hook firing on all collections (623c95b)
- Task 13.4: add test for createMany using generator per entity (9a03f91)
- Task 13.3: add test for non-existent idGenerator reference failure (e0cdc51)
- Task 13.2: add test for explicit ID override with custom generator (4b6c71a)
- Task 13.1: add test for custom ID generator usage when no id provided (c95a26e)
- Task 12.4: add test for custom operator combined with built-in operators (f700344)
- Task 12.3: add test for multiple custom operators from different plugins (7a44092)
- Task 12.2: add test for custom operator type constraints (26b1ac8)
- Task 12.1: add test for custom $regex operator matching (0064b03)
- Task 11.3: add test for multiple plugins providing codecs (43cd101)
- Task 11.2: add test for plugin codec overriding built-in extension (e095b87)
- Task 11.1: add test for plugin codec registering new extension (36b12d8)
- Task 10.5: add test for invalid codec validation (missing encode/decode) (9e5da72)
- Task 10.4: add test for satisfied plugin dependency validation (6327cc3)
- Task 10.3: add test for missing plugin dependency validation (bde62a1)
- Task 10.2: add test for operator conflict with built-in operator (2b7609c)
- Task 10.1: add test for operator name conflict between plugins (8b8959c)
- Tasks 9.5-9.6: verify tests for plugin validation errors exist and pass (7607d99)
- Task 9.4: verify test for plugin initialize() runs during creation (ca15440)
- Task 9.3: verify test for multiple plugins merges all contributions (2bc830f)
- Task 9.2: verify test for minimal plugin registration passes (f0d050b)
- Task 9.1: create plugin-system.test.ts with test helpers (7006725)
- Task 8.5: verify PluginError is in error channels of database factories (932cf7e)
- Task 8.4: register plugin shutdown() Effects as scope finalizers (46f48b0)
- Task 8.3: integrate plugin system at init time in database factories (0f8a08a)
- Task 8.2: add optional plugins parameter to createPersistentEffectDatabase (6160058)
- Task 8.1: add optional plugins parameter to createEffectDatabase (9dfc3f1)
- Task 7.2 & 7.3: integrate mergeGlobalHooks in buildCollection (a7427cd)
- Task 7.1: add mergeGlobalHooks for plugin global hooks integration (24efcd2)
- Task 6.3: add validateIdGeneratorReferences for init-time validation (2921c1d)
- Task 6.2: pass ID generator map from buildCollection to create and createMany (07187ad)
- Task 6.1: add custom ID generator support to create and createMany (a13b54c)
- Task 5.4: thread customOperators from buildCollection to query operations (98a6756)
- Task 5.3: add customOperators parameter to applyFilter (9896f1f)
- Task 5.2: extend isFilterOperatorObject to recognize custom operator keys (9fff536)
- Task 5.1: add customOperators parameter to matchesFilter (3b77f56)
- Task 4.2: add plugin codec merging for createPersistentEffectDatabase (3f901ba)
- Task 4.1: add optional pluginCodecs parameter to makeSerializerLayer (b93ede2)
- Task 3.2: handle empty/undefined plugin arrays in buildPluginRegistry (2a81f49)
- Task 3.1: add buildPluginRegistry function for plugin validation and merging (9387c38)
- Task 2.3: add validateDependencies function for plugin dependency validation (8857969)
- Task 2.2: add validateOperatorConflicts function for plugin operator validation (2af256b)
- Task 2.1: add validatePlugin function for plugin validation (235ebff)
- Task 1.8: export plugin system types and PluginError from core index (8bb66b8)
- Task 1.7: add idGenerator field to CollectionConfig (3a00905)
- Task 1.6: add PluginError tagged error for plugin validation failures (5159633)
- Task 1.1: add ProseQLPlugin interface and plugin type definitions (28e5f8b)
- Task 14.3: run lint and fix formatting issues (68c8cc4)
- Task 14.2: verify TypeScript type check passes with no errors (a455109)
- Task 14.1: verify full test suite passes with no regressions (d0602e3)
- Task 13.4: add $search combined with pagination tests for full-text search (50f1b07)
- Task 13.3: add $search inside $and tests for full-text search (0d61589)
- Task 13.2: add $search inside $or tests for full-text search (ca530f5)
- Task 13.1: add combined $search with other operators tests (d855d4d)
- Task 12.4: add index maintenance on delete tests for $search operator (2cc0986)
- Task 12.3: add index maintenance on update tests for $search operator (445cd63)
- Task 12.2: add index maintenance on create tests for $search operator (5e88fed)
- Task 12.1: add indexed search correctness tests for $search operator (89e7caa)
- Task 11.3: add exact match vs prefix match ranking tests for $search operator (ba3ad4f)
- Task 11.2: add explicit sort overrides relevance tests for $search operator (f2d049e)
- Task 11.1: add relevance ordering tests for $search operator (ff8e540)
- Task 10.3: add single-field explicit search tests for $search operator (c1ffef2)
- Task 10.2: add default all string fields search tests for $search operator (15cea1b)
- Task 10.1: add multi-field search tests for top-level $search operator (7cbc742)
- Task 9.7: add empty search string tests for $search operator (5067056)
- Task 9.6: add no-match tests for $search operator (a1eca2d)
- Task 9.5: add prefix matching tests for $search operator (689401e)
- Task 9.4: add multi-term search tests for $search operator (6bcdf02)
- Task 9.3: add case insensitivity tests for $search operator (29ac6fa)
- Task 9.2: add field-level $search basic match test (96c5639)
- Task 9.1: create full-text-search.test.ts with test helpers (4e410cc)
- Task 8.4: wire search index maintenance into CRUD operations (b9a9ec7)
- Task 8.3: implement updateInSearchIndex for CRUD index maintenance (3a18f3d)
- Task 8.2: implement removeFromSearchIndex for CRUD index maintenance (fb1a60d)
- Task 8.1: implement addToSearchIndex for CRUD index maintenance (cc55fd9)
- Task 7.3: wire search index into query pipeline for candidate narrowing (85eb850)
- Task 7.2: implement lookupSearchIndex for search candidate narrowing (8a9bc06)
- Task 7.1: create buildSearchIndex for inverted index construction (5a581c1)
- Task 6.3: verify explicit sort overrides relevance ordering (78e1b56)
- Task 6.2: compute and attach relevance scores after filter phase (8a7e111)
- Task 6.1: implement relevance-based default sort when $search is active (41e15c2)
- Tasks 5.1-5.3: implement multi-field $search in filter-stream.ts (316e725)
- Task 4.3: add top-level $search handling to filterData (b46d048)
- Task 4.2: add $search to operatorKeys in filterData for non-existent field handling (b5389c5)
- Task 4.1: add $search operator to matchesFilter (f274ddd)
- Task 3.3: exact match vs prefix match scoring already implemented (62c4840)
- Task 3.2: implement computeSearchScore for multi-field relevance scoring (0aedd08)
- Task 3.1: implement computeFieldScore for relevance scoring (4c98965)
- Task 2.2+2.3: tokenizeWithStopWords and edge cases already implemented (dbdaedd)
- Task 2.1: create search.ts with tokenize function (4eed930)
- Task 1.5: export search types from core/index.ts (aa5867e)
- Task 1.4: add searchIndex config option to CollectionConfig (93a65e9)
- Task 1.3: add top-level $search: SearchConfig to WhereClause type (4072172)
- Task 1.2: add $search operator to FilterOperators<string> (9dcbc85)
- Task 1.1: add search-types.ts with SearchConfig, SearchScore, SearchIndexMap, STOP_WORDS (6d2dd58)
- Task 11.2: run type check to verify no type errors (4ffbb98)
- Task 11.1: run full test suite to verify no regressions (eb1a3b2)
- Task 10.7: test that computed fields do not appear in aggregation input (d910a56)
- Task 10.6: test persistence round-trip with computed fields re-derivation (14f1e4c)
- Task 10.5: test that update ignores computed field names in input (fe7bad7)
- Task 10.4: test that create ignores computed field names in input (f97c29d)
- Task 10.3: verify computed fields with population work correctly (28bfac3)
- Task 10.2: verify computed fields on empty collection return empty results without errors (a85b5b2)
- Task 10.1: verify computed fields returning null/undefined are handled gracefully in filter/sort (37f5714)
- Task 9.13: verify collection with no computed fields behaves identically (regression check) (d32b7bb)
- Task 9.12: verify multiple computed fields on same collection tests pass (088e40f)
- Task 9.11: verify combined filter + sort + select with computed fields tests pass (3978cca)
- Task 9.10: verify sort by computed field descending tests pass (adb7107)
- Task 9.9: verify sort by computed field ascending tests pass (9a61fce)
- Task 9.8: verify filter by computed string field tests pass (a715775)
- Task 9.7: verify filter by computed boolean field tests pass (81f798d)
- Task 9.6: verify select excluding computed fields returns computed fields absent (0a71a5a)
- Task 9.5: verify select including computed fields returns only selected fields (8dbb0c9)
- Task 9.4: verify no select clause returns all stored + computed fields (9ae47c3)
- Task 9.3: verify computed field values are correct (d894f1a)
- Task 9.2: verify query results include computed fields by default (58e56fe)
- Task 9.1: create computed-fields.test.ts with test helpers and core tests (b8120d5)
- Task 8.3: verify collections without computed config have zero overhead (62ae3d7)
- Task 8.2: wire lazy skip optimization for computed field resolution (3ed2355)
- Task 8.1: integrate resolveComputedStream into query pipeline (3fadffb)
- Task 7.5: test update ignores computed field names in input (d4d1b18)
- Task 7.4: test create ignores computed field names in input (1416ced)
- Task 7.3: strip computed field keys from create/update in relationship operations (d3d236c)
- Task 7.2: strip computed field keys from update input before schema validation (cfd7d73)
- Task 7.1: strip computed field keys from create input before schema validation (c76f082)
- Task 6.3: verify round-trip persistence with computed field re-derivation (a32de28)
- Task 6.2: verify serialized output excludes computed fields (c210196)
- Task 6.1: verify computed fields are never written into the Ref (a9ebf99)
- Task 5.5: verify default (no select) returns all stored and computed fields (b62ef28)
- Task 5.4: verify selecting only computed fields excludes stored fields (3798a0a)
- Task 5.3: verify selecting a mix of stored and computed fields (683458b)
- Task 5.2: verify selecting only stored fields excludes computed fields (d5ce076)
- Task 5.1: verify selectFields works with computed fields (2eecaa6)
- Task 4.3: verify sort by computed numeric field (7d97f50)
- Task 4.2: verify sort by computed string field ascending and descending (19368e7)
- Task 4.1: verify sortData works with computed fields (ac02a90)
- Tasks 3.1-3.4: verify filterData works with computed fields (500a191)
- Task 2.4: implement lazy skip for computed field resolution (4f7b220)
- Task 2.3: implement stripComputedFields function (bb6ad86)
- Task 2.2: implement resolveComputedStream combinator (723ad2c)
- Task 2.1: create resolveComputedFields function (443a23a)
- Task 1.5: export computed types from core/index.ts (5e3a4ec)
- Task 1.4: verify computed field types flow through query types (92d8fd2)
- Task 1.3: merge computed fields into entity type in GenerateDatabase (751a6e4)
- Task 1.2: add computed property to CollectionConfig (da69106)
- Task 1.1: add computed field type definitions (a2ea21d)
- Tasks 4.1-4.5: mark GitHub verification tasks as manual (5083706)
- Task 5.1: verify no test tags/branches exist — cleanup confirmed (7706fa6)
- Tasks 5.2-5.3: verify local tests and typecheck pass (688cffa)
- Task 3.2: cache verification noted — requires GitHub Actions run (8946db2)
- Task 3.1: verify setup-bun cache is configured in all jobs (b365352)
- Task 2.4: add NPM_TOKEN env variable to publish workflow (3a352bb)
- Task 2.3: add publish job to publish workflow (af16525)
- Task 2.2: add test, typecheck, and lint jobs to publish workflow (357eff4)
- Task 2.1: create publish.yml with v* tag trigger (61a23ae)
- Task 1.4: add lint job to CI workflow (c2bf0ac)
- Task 1.3: add typecheck job to CI workflow (297131e)
- Task 1.2: add test job with Bun version matrix to CI workflow (4ab727c)
- Task 1.1: create ci.yml with push and PR triggers (01f7ba8)
- Task 5.3: verify no lint issues in coverage-reporting modified files (db9d780)
- Task 5.2: verify no type errors from coverage configuration (9257964)
- Task 5.1: verify no test regressions from coverage configuration (5e2345b)
- Task 4.5: verify coverage threshold enforcement works correctly (6d09a03)
- Task 4.4: verify just test has no coverage overhead (a7332f9)
- Task 4.3: verify excluded files do not appear in coverage output (5f238ac)
- Task 4.2: verify lcov.info generation and LCOV format validity (5698b24)
- Task 4.1: verify coverage terminal output shows per-file and total percentages (7c4bf3a)
- Task 3.3: add coverage-node recipe to justfile (872926a)
- Task 3.2: add coverage-core recipe to justfile (011af16)
- Task 3.1: add coverage recipe to justfile (cd11719)
- Task 2.4: set coverage thresholds in bunfig.toml (aafe536)
- Task 2.3: configure coverage exclusion patterns in bunfig.toml (d3f15d9)
- Task 2.2: configure coverage reporters and output directory in bunfig.toml (91d569c)
- Task 2.1: add coverage/ to .gitignore (d2eabf1)
- Task 1.2: analyze Bun coverage file inclusion (no exclusions needed) (cecffc7)
- Task 1.1: measure baseline coverage (82.68% functions, 85.44% lines) (d519fb2)
- Task 9.8: fix nix flake check to pass with mkBunDerivation (693d770)
- Task 9.7: fix nix build by downgrading to bun2nix v1.5.2 (09e2187)
- Task 9.6: verify nix develop shell has required tools (c665951)
- Task 9.5: fix TypeScript build to pass cleanly (85aec1d)
- Task 9.4: configure bun test root to packages/ and verify 1591 tests pass (a5db492)
- Task 9.3: verify node adapter tests pass (1 test) (70eed5f)
- Task 9.2: verify core tests pass (1590 tests) (43c52c9)
- Task 9.1: verify bun install links workspace packages correctly (86465d8)
- Task 8.4: update CLAUDE.md for monorepo structure (22ef330)
- Task 8.3: update examples imports to use @proseql/core and @proseql/node (02aaf93)
- Task 8.2: delete old tests/ directory (all content moved to packages) (326abf0)
- Task 8.1: delete old core/ directory (all content moved to packages) (2f9d57f)
- Task 7.9: verify bun install generates bun.nix via postinstall hook (c7afa26)
- Task 7.8: delete old shell.nix (replaced by flake.nix devShell) (d2a514e)
- Task 7.7: create packages/rpc/default.nix (0585ae7)
- Task 7.6: create packages/rest/default.nix (8850b9b)
- Task 7.5: create packages/node/default.nix (8e12163)
- Task 7.4: create packages/core/default.nix (2a52d22)
- Task 7.3: add checks output to flake.nix (cbdbf0a)
- Task 7.2: add packages output to flake.nix (f4c7a3f)
- Task 7.1: create flake.nix with devShell (49895c3)
- Task 6.4: update .gitignore for monorepo build artifacts (3962c04)
- Task 6.3: update biome.json for monorepo package paths (104ef10)
- Task 6.2: update justfile with workspace-aware recipes (857363d)
- Task 6.1: update bunfig.toml for workspace test layout (7773f8e)
- Task 5.4: create packages/rpc/tsconfig.json (7dec3f4)
- Task 5.3: create packages/rpc/package.json (4c60eeb)
- Task 5.2: copy proseql-rpc index.ts to packages/rpc/src (0038e66)
- Task 5.1: create packages/rpc directory structure (e006bf4)
- Task 4.4: create packages/rest/tsconfig.json (8486d41)
- Task 4.3: create packages/rest/package.json (0ea60c5)
- Task 4.2: copy proseql-rest index.ts to packages/rest/src (837fd1c)
- Task 4.1: create packages/rest directory structure (d2ccb88)
- Task 3.7: update node-storage.test.ts imports to use @proseql/core (472ac01)
- Task 3.6: create packages/node/tsconfig.json (42899be)
- Task 3.5: create packages/node/package.json (860b13c)
- Task 3.4: create packages/node/src/index.ts (2bdb3e5)
- Task 3.3: update node-adapter-layer imports to use @proseql/core (d9c5ae6)
- Task 3.2: move node-adapter-layer.ts to packages/node/src (538b769)
- Task 3.1: create packages/node/src directory structure (a36bfbd)
- Task 2.9: move tests/crud/ to packages/core/tests/crud/ (89e4ee8)
- Task 2.8: split storage-services.test.ts between core and node packages (ed8142b)
- Task 2.7: update test imports from ../core/ to ../src/ (aa4a6db)
- Task 2.6: move test files to packages/core/tests (2771df2)
- Task 2.5: create @proseql/core tsconfig.json (fbd6e64)
- Task 2.4: create @proseql/core package.json (c31faaf)
- Task 2.3: remove Node adapter exports from @proseql/core (6e00682)
- Task 2.2: copy core source to packages/core/src (except node-adapter) (350bb16)
- Task 2.1: create packages/core directory structure (63297a0)
- Task 1.3: delete old tsconfig.json and tsconfig.test.json (b0bf17c)
- Task 1.2: create tsconfig.base.json with shared compiler options (d1f02cf)
- Task 1.1: convert root package.json to workspace root (f0ae85d)
- Archive and promote specs to live location (f138ae8)
- Task 8.3: run type check and add UpsertInternalInput type (b314fe2)
- Task 8.2: verify full test suite passes (1591 tests) (6852502)
- Task 8.1: remove unused ExtractUniqueFields type (59eb91a)
- Task 7.9: add tests for upsertMany with invalid where clauses (4bb5277)
- Task 7.8: add test for upsert where with extra fields beyond constraint (ad9c531)
- Task 7.7: add test for collection without uniqueFields (8f7d95e)
- Task 7.6: add test for upsert with partial compound where (9c4f5cb)
- Task 7.5: add test for upsert with compound where matching constraint (2dac9e7)
- Task 7.4: add test for upsert where targeting non-unique field (7e8be88)
- Task 7.3: add test for upsert where targeting declared unique field (0bb6516)
- Task 7.2: add tests for upsert where: { id } always valid (5ea4e9d)
- Task 7.1: add upsert-validation.test.ts with test helpers (c0acc56)
- Task 6.6: add compound constraint error shape test (49c1a3a)
- Task 6.5: add mixed single + compound constraints test (6a543cb)
- Task 6.4: mark null compound field test as complete (e764e11)
- Task 6.3: mark partial overlap compound test as complete (acad407)
- Task 6.1: add compound constraint test setup with Settings schema (2f069bf)
- Tasks 5.2-5.10: mark unique constraint tests as complete (a54b758)
- Task 5.1: add unique-constraints.test.ts with test helpers (9ab8429)
- Tasks 3.4, 4.1, 4.2: add uniqueFields parameter to upsert operations and wire up factory integration (f076266)
- Task 3.3: add uniqueFields parameter to update and updateMany with UniqueConstraintError handling (0974a90)
- Task 3.2: add skipDuplicates support for unique constraint violations in createMany (c333d4b)
- Task 3.1: add uniqueFields parameter to create and createMany with UniqueConstraintError handling (5c265bb)
- Task 2.5: delete old checkUniqueConstraints helper from create.ts (40933a7)
- Task 2.4: add validateUpsertWhere function in unique-check.ts (88494df)
- Task 2.3: add checkBatchUniqueConstraints function in unique-check.ts (02630d4)
- Task 2.2: add checkUniqueConstraints function in unique-check.ts (2a4424c)
- Task 2.1: add normalizeConstraints function in unique-check.ts (4f7944a)
- Task 1.2: no separate uniqueFields type alias needed (6ffeac2)
- Task 1.1: add uniqueFields option to CollectionConfig (817fce1)
- Task 9.4: improve type compatibility for transactions (0012fba)
- Task 9.3: verify full test suite passes (1561 tests, 0 failures) (7d86ae8)
- Task 9.2: remove inert transaction boolean from BatchRelationshipOptions (3eb6b71)
- Task 9.1: remove inert TransactionalOptions type (f3c1daf)
- Task 8.3: test no persistence on rollback (ea38b4a)
- Task 8.2: test batch persistence on commit triggers single save per collection (d864c57)
- Task 8.1: test no persistence writes during active transaction (2a837aa)
- Task 7.6: test concurrent transaction rejection (f9ce67f)
- Task 7.5: test lock release on error allows new transaction (51de4c6)
- Add comprehensive README for proseql database (0de3bca)
- Task 7.4: test lock release on rollback allows new transaction (7eda197)
- Task 7.3: test lock release on commit allows new transaction (e0d18f3)
- Task 7.2: test snapshot immutability restores deleted entities on rollback (3e1691e)
- Task 7.1: test read-own-writes sees created entity via query (7f587be)
- Task 6.7: test isActive reflects correct state (3b051d5)
- Task 6.6: test mutatedCollections tracks correct collection names (e3062ae)
- Task 6.5: test commit after rollback returns TransactionError (b540d2e)
- Task 6.4: test double rollback returns TransactionError (0066469)
- Task 6.3: test double commit returns TransactionError (e275f44)
- Task 6.2: test manual rollback reverts all changes (b945229)
- Task 6.1: test manual commit with createTransaction (7959788)
- Task 5.6: test nested transaction rejection with TransactionError (7935830)
- Task 5.5: test error preservation via catchTag after transaction rollback (75e5084)
- Task 5.4: test explicit rollback reverts all changes mid-transaction (ff13ce0)
- Task 5.3: test failed transaction reverts user creation on Effect.fail (400c360)
- Task 5.2: test successful transaction creates user + post visible after commit (063fe8c)
- Task 5.1: create transactions.test.ts with test helpers for multi-collection database (4206ae8)
- Task 4.4: add transactionLock check to regular afterMutation in persistent database (48d0683)
- Task 4.3: wire $transaction method on database objects (853408f)
- Task 4.2: add makeBuildCollectionForTx factory for transaction-aware collections (efa6d0e)
- Task 4.1: add transactionLock Ref to createEffectDatabase and createPersistentEffectDatabase (c8011a9)
- Task 3.2: add nested transaction detection in $transaction (202304a)
- Task 3.1: implement $transaction callback wrapper in transaction.ts (efb1ba0)
- Task 2.7: document mutation tracking implementation in transaction.ts (2f107ed)
- Task 2.6: implement isActive check for collection operations in transactions (90e45de)
- Task 2.5: confirm rollback implementation with snapshot restore, lock release, and short-circuit error (6024503)
- Task 2.4: confirm commit implementation with isActive check, persistence triggers, and lock release (bbf3aa2)
- Task 2.3: confirm single-writer lock implementation with Ref.modify (bc15fb6)
- Task 2.2: implement snapshot capture on transaction begin (119a00b)
- Task 2.1: create core/transactions/transaction.ts with createTransaction factory function (00ea4c8)
- Task 1.3: export TransactionContext and TransactionalOptions types from core/index.ts (12ebf2a)
- Task 1.2: add $transaction method signature to GenerateDatabase type (2cc831f)
- Task 1.1: update TransactionContext type with Effect-based lifecycle methods (851e90e)
- Task 13.2: fix type errors in SaveCollectionConfig for strict Schema variance (20ac192)
- Task 13.1: verify full test suite passes (1522 tests, 0 failures) (ea6e4fc)
- Task 12.4: test no files modified after dry run (8526374)
- Task 12.3: test collection with no file → "no-file" status (6383786)
- Task 12.2: test collection at current version → up-to-date (a2425ae)
- Task 12.1: test collection needing migration → listed with correct chain (088d111)
- Task 11.6: test post-migration validation failure → original file untouched, MigrationError with step: -1 (6f2d976)
- Task 11.5: test failed transform → original file untouched, MigrationError (bea7305)
- Task 11.4: test file at current version → no migrations, normal load (f1874b5)
- Task 11.3: test migrated data written back to file with new _version (641272c)
- Task 11.2: test file at version 2, config at version 3 → only migration 2→3 runs (d1b9f57)
- Task 11.1: test file at version 0, config at version 3 → all migrations run (dfc8715)
- Task 10.6: test empty migrations with version > 0 → error (178ffda)
- Task 10.5: test to !== from + 1 → error (8d47a6d)
- Task 10.4: test duplicate from → error (4db6cc6)
- Task 10.3: test last migration 'to' doesn't match version → error (0604f21)
- Task 10.2: verify gap in chain tests pass (5f803bd)
- Task 10.3: verify no remaining imports of deleted files (d1009a3)
- Task 10.2: verify all tests pass (1338 tests, 0 failures) (54fa5c8)
- Task 10.1: fix TypeScript type errors in serializer test files (283f324)
- Task 9.5: add preset-layers.test.ts to verify AllTextFormatsLayer and DefaultSerializerLayer (561bd9e)
- Task 9.4: add jsonc-comments.test.ts with comprehensive JSONC comment handling tests (f4c6c26)
- Task 9.3: add toml-nulls.test.ts with null stripping edge case tests (d95d423)
- Task 9.2: add codecs.test.ts with round-trip tests for all 7 codecs (86b3d1d)
- Task 9.1: add format-codec.test.ts for makeSerializerLayer (b83d680)
- Task 8.9: remove msgpackr dependency (259958a)
- Task 8.8: delete core/storage/node-adapter.ts (5e77ba5)
- Task 8.7: delete core/utils/file-extensions.ts (47f90c8)
- Task 8.6: delete core/storage/types.ts (8f1d604)
- Task 8.5: delete core/storage/persistence.ts (43d78e7)
- Task 8.4: delete core/serializers/messagepack.ts (e8e2e10)
- Task 8.3: delete core/serializers/yaml.ts (a490a4e)
- Task 8.2: delete core/serializers/json.ts (b4162bc)
- Task 8.1: delete core/serializers/types.ts (c5f237d)
- Task 7.11: update schema-migrations.test.ts to use new codec API (be0d804)
- Task 7.10: update database-effect.test.ts to use new codec API (3dcf0a3)
- Task 7.9: update debounced-writer.test.ts to use new codec API (1121c35)
- Task 7.8: update file-watcher.test.ts to use new codec API (eed8bd6)
- Task 7.7: update persistence.test.ts to use new codec API (1c35099)
- Task 7.6: update persistence-effect.test.ts to use new codec API (bdc8923)
- Task 7.5: update storage-services.test.ts to use new codec API (d170cf6)
- Task 7.4: update serializer-service.test.ts to use new codec API (83c2783)
- Task 7.3: delete messagepack-serializer.test.ts (0bbb949)
- Task 7.2: update yaml-serializer.test.ts to use new codec API (dfffb5b)
- Task 7.1: update json-serializer.test.ts to use new codec API (8538b9d)
- Task 6.1: remove legacy PersistenceOptions and DatabaseOptions types (08356d8)
- Task 5.5: add new FormatCodec, codec factories, and preset Layer exports (e67ea8b)
- Task 5.4: remove legacy storage adapter exports (c5af47f)
- Task 3.1: add hjsonCodec to AllTextFormatsLayer preset (1ff6c62)
- Task 2.8-2.9: add hjsonCodec and install hjson dependency (1121a1c)
- Task 5.3: remove legacy persistence function exports (c018187)
- Task 5.2: remove legacy serializer factory exports (6dea860)
- Task 5.1: remove legacy Serializer and LegacySerializerRegistry type exports (a88fc1a)
- Task 3.1: add toonCodec to AllTextFormatsLayer preset (0808858)
- Task 2.7: install @toon-format/toon dependency (2c0384e)
- Task 2.6: add toonCodec factory for TOON serialization (6a7fc26)
- Task 4.2: update persistence-effect.ts to import getFileExtension from path.ts (5257096)
- Task 4.1: add getFileExtension utility in core/utils/path.ts (7190d44)
- Task 3.1: add AllTextFormatsLayer and DefaultSerializerLayer presets (59ef952)
- Task 2.6: verify json5, jsonc-parser, smol-toml dependencies installed (d74cab2)
- Task 2.5: add tomlCodec factory for TOML serialization (27849f7)
- Task 2.4: add jsoncCodec factory for JSONC serialization (42fba58)
- Task 2.3: add json5Codec factory for JSON5 serialization (7c63567)
- Task 2.2: add yamlCodec factory for YAML serialization (00d0dd6)
- Task 2.1: add jsonCodec factory for JSON serialization (70ab87e)
- Task 1.2: implement makeSerializerLayer compositor (818c5ea)
- Task 1.1: add FormatCodec and FormatOptions interfaces (13349fc)
- Task 10.1: add tests for valid contiguous migration chain (158d085)
- Tasks 9.1-9.6: add schema-migrations test suite with versioning tests (6118331)
- Task 8.2: verify DryRunResult returns per-collection status (551dabe)
- Task 8.1: implement dryRunMigrations for migration preview (c782de4)
- Task 7.3: wire $dryRunMigrations() method onto database object (57557bd)
- Task 7.2: pass version and migrations to loadData in createPersistentEffectDatabase (f846db5)
- Task 7.1: add migration registry validation at database startup (d1766ec)
- Task 6.2: add tests verifying original file untouched on validation failure (903aabf)
- Task 6.1: add post-migration validation with MigrationError (2be163b)
- Task 5.5: add per-collection migration to loadCollectionsFromFile (fb097cd)
- Task 5.4: add tests for file version === config version (no migration) (d034b2d)
- Task 5.3: verify file version > config version handling already implemented (63976ab)
- Task 5.2: add auto-migration when file version < config version (b864497)
- Task 5.1: add version extraction to loadData (01be7d6)
- Task 4.3: add tests verifying _version appears first in output (c7b5f80)
- Task 4.2: add version stamping to saveCollectionsToFile (f5777f9)
- Task 4.1: add optional version parameter to saveData (557882d)
- Task 3.3: verify version 0 handling already implemented in 3.1 (4997b05)
- Task 3.2: verify transform chain already implemented in 3.1 (3bab764)
- Task 3.1: implement runMigrations function for migration execution (6d0b897)
- Task 2.2: add validation that first migration starts from version 0 (944abb7)
- Task 2.1: create validateMigrationRegistry function (7d01c13)
- Task 1.4: export migration types from core/index.ts (d14aa9c)
- Task 1.3: add version and migrations fields to CollectionConfig (d54b3e2)
- Task 1.2: create MigrationError tagged error (4680605)
- Task 1.1: create migration types (Migration, DryRunResult) (0dfa504)
- Task 12.2: allow after-hooks to fail (errors are swallowed) (df43ae4)
- Task 12.1: verify full test suite passes (1261 tests) (a5b9b3d)
- Task 11.5: test upsert update path triggers hooks (34b3cbe)
- Task 11.4: test upsert create path triggers hooks (486a438)
- Task 11.3: test deleteMany hooks run per entity (110af16)
- Task 11.2: test updateMany hooks run per entity (449c637)
- Task 11.1: test createMany hooks run per entity (840b46c)
- Task 10.6: test onChange error does not fail the operation (8e95fe9)
- Task 10.5: test onChange works alongside specific hooks (220c443)
- Task 10.4: test onChange fires after specific after-hooks (5a9ee74)
- Task 10.3: test onChange fires on delete with type: 'delete' (eb28143)
- Task 10.2: test onChange fires on update with type: 'update' (cfb7e09)
- Task 10.1: test onChange fires on create with type: 'create' (eecac43)
- Task 9.6: test after-hooks run after state mutation is complete (a59fd9e)
- Task 9.5: test multiple after-hooks run in order (eea1009)
- Task 9.4: test after-hook error does not fail the CRUD operation (32f1e47)
- Task 9.3: test afterDelete receives deleted entity (422b536)
- Task 9.2: test afterUpdate receives previous and current state (40ac0cf)
- Task 9.1: test afterCreate receives created entity (a2c442c)
- Task 8.8: test hook receives correct context (collection, operation, data) (03e8a00)
- Task 8.7: test beforeDelete rejects delete fails entity still exists (d33d528)
- Task 8.6: test beforeUpdate rejects update fails entity unchanged (0e3a517)
- Task 8.5: test beforeUpdate modifies update payload (b52b7be)
- Task 8.4: test multiple beforeCreate hooks chain in order (c630b9d)
- Task 8.3: test beforeCreate rejects with HookError and no state change (40c0e8e)
- Task 8.2: test beforeCreate transforms data and entity reflects transformation (566ae53)
- Task 8.1: create lifecycle hooks test file with test helpers (37ae0fa)
- Task 7.2: default to empty hooks when not configured (2902b25)
- Task 7.1: pass hooks from collection config to CRUD factory functions (ff6861a)
- Task 6.2: add hooks support to upsertMany operation (9936ecc)
- Task 6.1: add hooks support to upsert operation (6bd066e)
- Task 5.4: add hooks support to deleteMany operation (cacdce2)
- Task 5.3: add HookError to delete's error channel in EffectCollection interface (cc57207)
- Task 5.2: add afterDelete and onChange hooks to delete operation (ac89d13)
- Task 5.1: add hooks parameter to delete and run beforeDelete hooks (bb37add)
- Task 4.4: add hooks support to updateMany operation (c9ade29)
- Task 4.3: add HookError to update's error channel in EffectCollection interface (e732e3d)
- Task 4.2: add afterUpdate and onChange hooks to update operation (6b9107a)
- Task 4.1: add hooks parameter to update and run beforeUpdate hooks (f0b1628)
- Task 3.4: add hooks support to createMany operation (41feb70)
- Task 3.3: add HookError to create's error channel in EffectCollection interface (19354f5)
- Task 3.2: add afterCreate and onChange hooks to create operation (16b6529)
- Task 3.1: add hooks parameter to create and run beforeCreate hooks (a58d728)
- Task 2.4: verify empty/undefined hook array handling (9364708)
- Task 2.3: implement runOnChangeHooks function (8ba703f)
- Task 2.2: implement runAfterHooks functions (cf8c248)
- Task 2.1: create hook-runner with runBeforeHooks functions (6305776)
- Task 1.6: export lifecycle hook types from core/index.ts (cb0aaa2)
- Task 1.5: add hooks field to CollectionConfig type (89a7fae)
- Task 1.3: add HooksConfig<T> interface for lifecycle hooks configuration (29a5d73)
- Task 1.2+1.4: add hook function signatures and HookError type (a14a210)
- Task 1.1: add lifecycle hook context types (d017510)
- Task 10.2: run type check - indexing code is type-safe (9ff9f64)
- Task 10.1: verify full test suite passes (1232 tests) (e8a8b7d)
- Task 9.6: test compound key handles mixed types (string + number) (cef3aaa)
- Task 9.5: test compound index maintenance (create/update/delete) (4644416)
- Task 9.4: test $in on compound field Cartesian product lookup (da9a49f)
- Task 9.3: test compound query with extra non-indexed fields post-filtered (e492728)
- Task 9.2: test partial compound query falls back to full scan (9dd87de)
- Task 9.1: test compound index equality query on all fields (e9d7a03)
- Task 8.8: test result parity between indexed and non-indexed queries (0535d27)
- Task 8.7: test empty index entry returns empty result (75f4f23)
- Task 8.6: test $or/$and/$not queries fall back to full scan (b485c3d)
- Task 8.5: test mixed indexed + non-indexed conditions (narrowed then filtered) (b086c00)
- Task 8.4: test query on non-indexed field returns correct results (full scan) (4fdc951)
- Task 8.3: test $in on indexed field returns correct results (union) (cb6909d)
- Task 8.2: test $eq on indexed field returns correct results (dec5507)
- Task 8.1: test equality query on indexed field returns correct results (3454e53)
- Task 7.8: test index consistency after mixed CRUD sequence (5acb10d)
- Task 7.7: test upsert (update path) updates index (1663de0)
- Task 7.6: test upsert (create path) adds entity to index (06a4b25)
- Task 7.5: test createMany batch index update (9e4b358)
- Task 7.4: test delete removes index entries and cleans up empty Sets (98e366d)
- Task 7.3: test update not changing indexed field preserves index (b1e6796)
- Task 7.2: test update changing indexed field removes old and adds new (9fdd52c)
- Task 7.1: test create adds entity to index (e4d4c61)
- Task 6.5: test collection without indexes has empty CollectionIndexes (fc892ac)
- Task 6.4: test null/undefined values not indexed (8e440a5)
- Task 6.3: test multiple entities with same field value all have IDs in index Set (54783f2)
- Task 6.2: test index built from initial data with correct field-to-ID mappings (83b6dd6)
- Task 6.1: create indexing test file with test helpers (4b4884f)
- Task 5.4: verify empty CollectionIndexes default for unconfigured indexes (b206d8b)
- Task 5.3: integrate resolveWithIndex into queryFn for index-accelerated queries (d45a8f0)
- Task 5.2: pass CollectionIndexes to all CRUD factory function calls (4f81e66)
- Task 5.1: add index building to database factory functions (1c5a7ec)
- Task 4.4: add indexes parameter to upsert and upsertMany (5568822)
- Task 4.3: add indexes parameter to delete and deleteMany (ea158ca)
- Task 4.2: add indexes parameter to update and updateMany (226d5d1)
- Task 4.1: add indexes parameter to create and createMany (1d8bc2a)
- Tasks 3.1-3.6: implement resolveWithIndex for index-accelerated queries (375ea2e)
- Task 2.6: implement addManyToIndex and removeManyFromIndex batch functions (55bd27d)
- Task 2.5: implement updateInIndex function in index-manager.ts (65e322e)
- Task 2.4: implement removeFromIndex function in index-manager.ts (de7954f)
- Task 2.3: implement addToIndex function in index-manager.ts (5b8b991)
- Task 2.2: implement buildIndexes function in index-manager.ts (e969ff9)
- Task 2.1: create index-manager.ts with normalizeIndexes function (54255f1)
- Task 1.3: export index types from core/index.ts (53ae8f5)
- Task 1.2: add indexes field to CollectionConfig (ad7447c)
- Task 1.1: add index types (IndexMap, IndexRef, CollectionIndexes, NormalizedIndex) (ff585a5)
- Task 4.12: verify full test suite passes with no regressions (c690867)
- Task 4.11: add tests for cursor pagination validation errors (fca50ea)
- Task 4.10: add tests for implicit sort with cursor pagination (14d39f8)
- Task 4.9: add tests for cursor pagination combined with explicit sort (e1dd926)
- Task 4.8: add tests for cursor pagination combined with select (50cade0)
- Task 4.7: add tests for cursor pagination combined with populate (22c2764)
- Task 4.6: add tests for cursor pagination combined with where filter (c32cce3)
- Task 4.5: add stability tests for cursor-based queries (e2d2b32)
- Task 4.4: add empty results tests for cursor-based queries (a1f1ce1)
- Task 4.3: add backward pagination tests for cursor-based queries (886872c)
- Task 4.2: add forward pagination tests for cursor-based queries (43ab9d1)
- Task 4.1: create cursor-pagination.test.ts with test helpers (069376a)
- Task 3.4: queryFn options already accepts cursor?: CursorConfig at runtime (77ef45b)
- Task 3.3: select already applied after cursor extraction in task 3.2 (8136b7b)
- Task 3.2: implement cursor pipeline branch with select after cursor extraction (1f813ea)
- Task 3.1: detect cursor config, inject implicit sort, validate sort mismatch (8e55945)
- Task 2.6: add validation for cursor config (2b18a7c)
- Task 2.5: handle empty results in cursor pagination (6913493)
- Task 2.4: first page pagination already implemented in applyCursor (735effc)
- Task 2.3: backward pagination already implemented in applyCursor (4eee4ef)
- Task 2.2: forward pagination already implemented in applyCursor (07b63be)
- Task 2.1: create applyCursor function for cursor-based pagination (3b0a751)
- Task 1.4: export cursor pagination types from core/index.ts (c5a2348)
- Task 1.3: extend QueryReturnType to branch on cursor config (2b42430)
- Task 1.2: extend QueryConfig with cursor pagination variants (ceb6f95)
- Task 1.1: create cursor pagination types (9ae2e4a)
- Task 7.1-7.2: cleanup verification complete (7715120)
- Task 6.8: test group ordering → matches first-encounter order (968663e)
- Task 6.7: test groupBy with all aggregate types → all present per group (c1c60b3)
- Task 6.6: test empty result (no matches) → empty array (df04cdd)
- Task 6.5: test null grouping field value → forms own group (d36ef40)
- Task 6.4: test groupBy with where → groups from filtered subset only (083e580)
- Task 6.3: test multi-field groupBy → correct group partitioning (9d6a325)
- Task 6.2: test single-field groupBy with sum → correct group sums (a9a00c5)
- Task 6.1: test single-field groupBy with count → correct group counts (10fd2f8)
- Task 5.8-5.15: mark scalar aggregate tests as complete (0720f42)
- Task 5.7: test sum on empty result set → 0 (786f5bb)
- Task 5.6: test sum with non-numeric/null values → skipped (afe9974)
- Task 5.5: test sum on numeric field → correct total (3c4a704)
- Task 5.4: test count on empty collection → 0 (5830df5)
- Task 5.3: test count with where → filtered count (a5a7076)
- Task 5.2: test count with no where → total collection size (7387475)
- Task 5.1: create aggregation test file with test helpers (1b08f95)
- Task 4.3: mark aggregate method as wired onto collection (0e97983)
- Task 4.2: mark withRunPromise wrapper as implemented (7a0c365)
- Task 4.1: implement aggregateFn in buildCollection (92d0bc7)
- Task 3.5: mark group result building as implemented (31903e7)
- Task 3.4: distinguish null from undefined in group keys (6552f24)
- Task 3.3: mark groupBy normalization as implemented (2a46a92)
- Task 3.2: mark grouping implementation as complete (3571a58)
- Task 3.1: implement computeGroupedAggregates function (9b6477a)
- Task 2.6: mark multi-field normalization as implemented (2e49220)
- Task 2.5: mark min/max aggregation as implemented (55b9e78)
- Task 2.4: mark avg aggregation as implemented (2117c78)
- Task 2.3: mark sum aggregation as implemented (b85f981)
- Task 2.2: mark count aggregation as implemented (5d301c7)
- Task 2.1: create computeAggregates function for scalar aggregation (0e8ddde)
- Task 1.3: export aggregate types from core/index.ts (7c4a809)
- Task 1.2: add aggregate method signature to SmartCollection (b1836a6)
- Task 1.1: create aggregate types for scalar and grouped aggregations (f2cb89a)
- Improve remaining count calculation robustness (fdac2a7)
- Task 13.5: run full test suite and fix all failing tests (c43018d)
- Task 13.4: verify no `as unknown as` casts remain in database factory (74220b8)
- Task 13.3: verify hand-rolled Result type already removed from crud-errors.ts (a2cb72d)
- Task 13.2: remove core/utils/async-iterable.ts (replaced by Effect Stream) (9f95a9a)
- Task 13.1: remove all Zod imports and references from the codebase (33f99ed)
- Task 12.11: rewrite example files for Effect/Stream API (66c8b26)
- Task 12.10: delete debug test files (414c8a4)
- Task 12.9h: rewrite crud/type-safety test for Effect/Stream API (101df52)
- Task 12.9g: rewrite crud/relationships test for Effect/Stream API (6394f2b)
- Task 12.9a-f: rewrite crud test files for Effect/Stream API (df32d3b)
- Task 12.8: rewrite persistence tests for Effect/Stream API (c488a99)
- Task 12.7: rewrite array operators tests for Effect/Stream API (d80303a)
- Task 12.6: rewrite conditional logic tests for Effect/Stream API (261eef7)
- Task 12.5: rewrite pagination tests for Effect/Stream API (b1f9ce4)
- Task 12.4: rewrite select tests for Effect/Stream API (afc4fe9)
- Task 12.3: rewrite populate tests for Effect/Stream API (3a84b7e)
- Task 12.2: rewrite sorting tests for Effect/Stream API (85390d5)
- Task 12.1: rewrite filter and filtering tests for Effect/Stream API (e6969c2)
- Task 11.4: update core/index.ts exports for Effect-based API (3ca7836)
- Task 11.3: update CrudMethods and CrudMethodsWithRelationships to return RunnableEffect (12d4ada)
- Task 11.2: update QueryConfig types for Stream return and Schema entity compatibility (8b03274)
- Task 11.1: replace z.ZodType with Schema.Schema in core type system (5aa0643)
- Task 10.6: implement findById as first-class O(1) ReadonlyMap lookup method (77376cb)
- Task 10.5: wire database cleanup via Effect.addFinalizer for scoped lifecycle (d1465f4)
- Task 10.4: wire persistence hooks for debounced save after CRUD mutations (339f13b)
- Task 10.3: add .runPromise convenience API for non-Effect consumers (1acea99)
- Task 10.2: mark composable query function as complete (implemented in 10.1) (e97b382)
- Task 10.1: rewrite database factory as Effect-based createEffectDatabase (6c1ad92)
- Task 9.5: write persistence-effect tests for load/save round-trip and Schema encode/decode (04cbe6d)
- Task 9.4: migrate transforms to work with ReadonlyMap state format (39b46ea)
- Task 9.3: implement Effect-based FileWatcher with acquireRelease lifecycle (a4040f3)
- Task 9.2: implement Effect-based DebouncedWriter with Fiber cancellation (8463107)
- Task 9.1: create Effect-based persistence with Schema decode/encode (9297bd0)
- Task 8.9: verify comprehensive Effect CRUD test coverage (141 tests, 363 assertions) (66afeca)
- Task 8.8: migrate foreign-key validator to Effect with centralized validation functions (50015fa)
- Task 8.7: migrate deleteWithRelationships to Effect with Ref state and typed errors (ae746dc)
- Task 8.6: migrate updateWithRelationships to Effect with Ref state and typed errors (a4f646a)
- Task 8.5: migrate createWithRelationships to Effect with Ref state and typed errors (17dc6c5)
- Task 8.4: migrate upsert operations to Effect with Ref state and typed errors (170c3d8)
- Task 8.3: migrate delete operations to Effect with Ref state and typed errors (b369c2c)
- Task 8.2: migrate update operations to Effect with Ref state and typed errors (763db06)
- Task 8.1: migrate create operations to Effect with Ref state and typed errors (99950f8)
- Task 7.4: write tests for population stream combinator (1cf84d0)
- Task 7.3: emit DanglingReferenceError for missing ref targets in population (90ffad7)
- Task 7.2: add recursive nested population with depth limit of 5 (643cdfe)
- Task 7.1: create core/operations/relationships/populate-stream.ts with Stream combinator (b00378e)
- Task 6.5: verify query stream tests for all operators and combinators (7b77820)
- Task 6.4: create core/operations/query/paginate-stream.ts with Stream combinator (83200a0)
- Task 6.3: create core/operations/query/select-stream.ts with Stream combinator (8e58f41)
- Task 6.2: create core/operations/query/sort-stream.ts with Stream combinator (8c6215d)
- Task 6.1: create core/operations/query/filter-stream.ts with Stream combinator (2e93cef)
- Task 5.8: add integrated storage services tests with Layer swapping (c230fd7)
- Task 5.7: migrate core/serializers/messagepack.ts to Effect with MessagePackSerializerLayer (4cc3c3c)
- Task 5.6: migrate core/serializers/yaml.ts to Effect with YamlSerializerLayer (3b667da)
- Task 5.5: migrate core/serializers/json.ts to Effect with JsonSerializerLayer (fa18844)
- Task 5.4: create core/serializers/serializer-service.ts with SerializerRegistry Effect Service (978cccd)
- Task 5.3: create core/storage/in-memory-adapter-layer.ts with InMemoryStorageLayer (ba4a1f5)
- Task 5.2: create core/storage/node-adapter-layer.ts with NodeStorageLayer Effect Layer (2242663)
- Task 5.1: create core/storage/storage-service.ts with StorageAdapter Effect Service (b7b8183)
- Task 4.3: add Ref state management tests for collection-state and state-operations (e53479b)
- Task 4.2: create core/state/state-operations.ts with atomic Ref helpers (b515eb4)
- Task 4.1: create core/state/collection-state.ts with Ref<ReadonlyMap> state (aeaea26)
- Task 3.5: add error model tests for creation, _tag discrimination, and Effect.catchTag (2e1837b)
- Task 3.4: extract legacy Result/error types from crud-errors.ts into core/errors/legacy.ts (67ad273)
- Task 3.3: create core/errors/storage-errors.ts with StorageError, SerializationError, UnsupportedFormatError (44797ce)
- Task 3.2: create core/errors/query-errors.ts with DanglingReferenceError, CollectionNotFoundError, PopulationError (b8d25d5)
- Task 3.1: replace hand-rolled CRUD error types with Data.TaggedError classes (65c6f4f)
- Task 2.4: add schema validation tests for validateEntity/encodeEntity (57a8124)
- Task 2.3: create core/validators/schema-validator.ts with Effect Schema decode/encode wrappers (b2a4f55)
- Task 2.2: update CollectionConfig schema field from z.ZodType to Schema.Schema.All (027efb8)
- Task 2.1: create core/types/schema-types.ts with Effect Schema helper types (2cc0c7f)
- Task 1.3: create core/errors module with Effect TaggedError types (aca9e88)
- Task 1.2: verify tsconfig.json Effect compatibility, exclude effect/ reference codebase (34172e3)
- Task 1.1: verify effect dependency in package.json, zod already removed (3f0215a)
- Init (b925efd)

